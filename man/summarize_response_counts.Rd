% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarize_response_counts.R
\name{summarize_response_counts}
\alias{summarize_response_counts}
\title{Summarize Response Counts with Grouping Options}
\usage{
summarize_response_counts(
  data,
  acad_group_var = NULL,
  demo_group_var = NULL,
  time_group_var = NULL,
  acad_category = "None",
  acad_value = "UC Berkeley",
  demo_category = "None",
  demo_value = "All students",
  time_category = "Aggregated",
  time_value = "All years"
)
}
\arguments{
\item{data}{A data frame containing response data. It is expected to have
columns like 'ITEM_PARENT_ID', 'ITEM_NAME', 'ITEM_TYPE', 'response', and 'rowid'.}

\item{acad_group_var}{An optional character string specifying the name of an
academic grouping variable. Defaults to \code{NULL}.}

\item{demo_group_var}{An optional character string specifying the name of a
demographic grouping variable. Defaults to \code{NULL}.}

\item{time_group_var}{An optional character string specifying the name of a
time grouping variable (e.g., 'SurveyAdminYear'). Defaults to \code{NULL}.}

\item{acad_category}{A character string to use as the academic group category
when no \code{acad_group_var} is supplied. Defaults to "None".}

\item{acad_value}{A character string to use as the academic group value
when no \code{acad_group_var} is supplied. Defaults to "UC Berkeley".}

\item{demo_category}{A character string to use as the demographic group category
when no \code{demo_group_var} is supplied. Defaults to "None".}

\item{demo_value}{A character string to use as the demographic group value
when no \code{demo_group_var} is supplied. Defaults to "All students".}

\item{time_category}{A character string to use as the time group category
when no \code{time_group_var} is supplied. Defaults to "Aggregated".}

\item{time_value}{A character string to use as the time group value
when no \code{time_group_var} is supplied. Defaults to "All years".}
}
\value{
A data frame with summarized response counts, including 'response',
'count', 'total', 'perc', 'ITEM_NAME', and standardized grouping columns
('acad_group_category', 'acad_group_value', 'demo_group_category',
'demo_group_value', 'time_group_category', 'time_group_value').
}
\description{
This function groups and summarizes response counts from a data frame. It allows
for flexible grouping by any combination of academic, demographic, and/or time
variables. If no grouping variables are supplied, you can supply strings to add
to the output grouping columns (e.g., "UC Berkeley" for a campus-wide summary).
If both grouping variables and category or value strings are supplied, the
grouping variables will supersede to determine the output.
}
\examples{
# Attach required libraries
library(dplyr)
library(purrr)
library(rlang)

# Create a sample data frame
df_counts <- data.frame(
  rowid = 1:10,
  ITEM_PARENT_ID = c("Q1", "Q1", "Q1", "Q2", "Q2", "Q1", "Q1", "Q2", "Q2", "Q1"),
  ITEM_NAME = c("Q1_A", "Q1_B", "Q1_A", "Q2_X", "Q2_Y", "Q1_B", "Q1_A", "Q2_X", "Q2_Y", "Q1_A"),
  ITEM_TYPE = c("Single Select", "Single Select", "Single Select", "Multi Select", "Multi Select",
                "Single Select", "Single Select", "Multi Select", "Multi Select", "Single Select"),
  response = c("Yes", "No", "Yes", "Option1", "Option2", "No", "Yes", "Option1", "Option3", "Yes"),
  Department = c("Math", "Physics", "Math", "Physics", "Math", "Math", "Physics", "Physics", "Math", "Math"),
  Year = c(2023, 2023, 2024, 2024, 2023, 2023, 2024, 2024, 2023, 2024)
)

# Summarize without grouping variables (campus-wide summary)
summary_all <- summarize_response_counts(df_counts)
print(summary_all)

# Summarize by academic group (Department)
summary_by_dept <- summarize_response_counts(df_counts, acad_group_var = "Department")
print(summary_by_dept)

# Summarize by time group (Year)
summary_by_year <- summarize_response_counts(df_counts, time_group_var = "Year")
print(summary_by_year)

# Summarize by academic and time groups
summary_dept_year <- summarize_response_counts(df_counts,
                                               acad_group_var = "Department",
                                               time_group_var = "Year")
print(summary_dept_year)

}
\seealso{
Other data analysis functions: 
\code{\link{filter_lowN_groups}()}
}
\concept{data analysis functions}
